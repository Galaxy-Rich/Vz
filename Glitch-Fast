local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/memejames/elerium-v2-ui-library/main/Library", true))()

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local startTime = os.time()
local startRebirths = player.leaderstats.Rebirths.Value
local displayName = player.DisplayName

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local displayName = LocalPlayer.DisplayName

local window = library:AddWindow("                            Team      |      Vuzo Zilux                            ", { 
    main_color = Color3.fromRGB(25, 25, 25), 
    min_size = Vector2.new(350, 365), 
    can_resize = true, 
})

local farmPlusTab = window:AddTab("Glitch Pet Fast")

farmPlusTab:AddButton("Remove Attack Animations", function()
    local blockedAnimations = {
        ["rbxassetid://3638729053"] = true,
        ["rbxassetid://3638767427"] = true,
    }

    local function setupAnimationBlocking()
        local char = LocalPlayer.Character
        local humanoid = char and char:FindFirstChild("Humanoid")
        if not humanoid then
            updateStatus("Error: Humanoid not found")
            return
        end
        for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
            local anim = track.Animation
            local name = track.Name:lower()
            if anim and (blockedAnimations[anim.AnimationId] or name:match("punch") or name:match("attack") or name:match("right")) then
                track:Stop()
            end
        end
        if not _G.AnimBlockConnection then
            _G.AnimBlockConnection = humanoid.AnimationPlayed:Connect(function(track)
                local anim = track.Animation
                local name = track.Name:lower()
                if anim and (blockedAnimations[anim.AnimationId] or name:match("punch") or name:match("attack") or name:match("right")) then
                    track:Stop()
                end
            end)
        end
    end

    local function overrideToolActivation()
        local function processTool(tool)
            if tool and (tool.Name == "Punch" or tool.Name:match("Attack") or tool.Name:match("Right")) and not tool:GetAttribute("ActivatedOverride") then
                tool:SetAttribute("ActivatedOverride", true)
                _G.ToolConnections[tool] = tool.Activated:Connect(function()
                    task.wait(0.05)
                    local humanoid = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid")
                    if humanoid then
                        for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
                            local anim = track.Animation
                            local name = track.Name:lower()
                            if anim and (blockedAnimations[anim.AnimationId] or name:match("punch") or name:match("attack") or name:match("right")) then
                                track:Stop()
                            end
                        end
                    end
                end)
            end
        end

        local function watchTools(container)
            for _, tool in pairs(container:GetChildren()) do
                processTool(tool)
            end
            return container.ChildAdded:Connect(function(tool)
                task.wait(0.1)
                processTool(tool)
            end)
        end

        _G.ToolConnections.Backpack = watchTools(LocalPlayer.Backpack)
        local char = LocalPlayer.Character
        if char then
            _G.ToolConnections.Character = watchTools(char)
        end
    end

    setupAnimationBlocking()
    overrideToolActivation()

    if not _G.AnimMonitorConnection then
        _G.AnimMonitorConnection = RunService.Heartbeat:Connect(function()
            local char = LocalPlayer.Character
            local humanoid = char and char:FindFirstChild("Humanoid")
            if humanoid and tick() % 0.5 < 0.01 then
                for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
                    local anim = track.Animation
                    name = track.Name:lower()
                    if anim and (blockedAnimations[anim.AnimationId] or name:match("punch") or name:match("attack") or name:match("right")) then
                        track:Stop()
                    end
                end
            end
        end)
    end
    updateStatus("Attack animations removed")
end)
			
farmPlusTab:AddSwitch("Fast Punch", function(bool)
    _G.FastPunch = bool

    local function startFastPunch()
        if _G.FastPunchActive then return end
        _G.FastPunchActive = true
        
        spawn(function()
            while _G.FastPunch do
                local player = game.Players.LocalPlayer
                local character = player.Character

                if character then
                    local punch = character:FindFirstChild("Punch") or player.Backpack:FindFirstChild("Punch")
                    if punch then
                        if punch:FindFirstChild("attackTime") then
                            punch.attackTime.Value = 0
                        end
                        if not character:FindFirstChild("Punch") and character:FindFirstChild("Humanoid") then
                            character.Humanoid:EquipTool(punch)
                        end
                    end
                end
                task.wait(0.00001)
            end
            _G.FastPunchActive = false
        end)
        
        spawn(function()
            while _G.FastPunch do
                local player = game.Players.LocalPlayer
                local character = player.Character
                local muscleEvent = player:FindFirstChild("muscleEvent")
                
                if muscleEvent then
                    muscleEvent:FireServer("punch", "rightHand")
                    muscleEvent:FireServer("punch", "leftHand")
                end

                if character then
                    local punchTool = character:FindFirstChild("Punch")
                    if punchTool then
                        punchTool:Activate()
                    end
                end

                task.wait() 
            end
        end)
    end

    local function stopFastPunch()
        _G.FastPunch = false
        local player = game.Players.LocalPlayer
        local character = player.Character
        if character then
            local equipped = character:FindFirstChild("Punch")
            if equipped and equipped:FindFirstChild("attackTime") then
                equipped.attackTime.Value = 0.35
            end
            if equipped then
                equipped.Parent = player.Backpack
            end
        end
        local backpackTool = player.Backpack:FindFirstChild("Punch")
        if backpackTool and backpackTool:FindFirstChild("attackTime") then
            backpackTool.attackTime.Value = 0.35
        end
    end
    
    if bool then
        startFastPunch()
        
        local player = game.Players.LocalPlayer
        player.CharacterAdded:Connect(function(newChar)
            newChar:WaitForChild("HumanoidRootPart")
            task.wait(0.5)
            if _G.FastPunch then
                startFastPunch()
                warn("[Fast Punch] Auto reactivated after respawn")
            end
        end)

        warn("[Fast Punch] Activated")
    else
        stopFastPunch()
        warn("[Fast Punch] Deactivated")
    end
end)

local lockSwitch = farmPlusTab:AddSwitch("Lock Position", function(state)
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart")
    local humanoid = char:WaitForChild("Humanoid")

    _G.lockRunning = state

    if state then
        _G.LockedCFrame = hrp.CFrame
        _G.OriginalSpeed = humanoid.WalkSpeed
        _G.OriginalJump = humanoid.JumpPower
        _G.LockedChar = char

        _G.lockThread = coroutine.create(function()
            while _G.lockRunning and _G.LockedCFrame do
                if hrp then
                    hrp.Velocity = Vector3.zero
                    hrp.RotVelocity = Vector3.zero
                    hrp.CFrame = _G.LockedCFrame
                end
                task.wait(0.05)
            end
        end)
        coroutine.resume(_G.lockThread)

        humanoid.Died:Connect(function()

            spawn(function()
                while _G.lockRunning and _G.LockedCFrame do
                    hrp = char:FindFirstChild("HumanoidRootPart")
                    if hrp then
                        hrp.Velocity = Vector3.zero
                        hrp.CFrame = _G.LockedCFrame
                    end
                    task.wait(0.05)
                end
            end)
        end)
    else
        
        _G.LockedCFrame = nil
        local humanoid = char:FindFirstChildOfClass("Humanoid")
        if humanoid then
            humanoid.WalkSpeed = _G.OriginalSpeed or 200
            humanoid.JumpPower = _G.OriginalJump or 50
            humanoid.PlatformStand = false
        end
    end
end)

local player = game.Players.LocalPlayer
local rs = game:GetService("RunService")

getgenv().autoFarm = false
local currentDurabilityReq = 0
local activeRock = nil

local function gettool()
    for _, v in pairs(player.Backpack:GetChildren()) do
        if v.Name == "Punch" and player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid:EquipTool(v)
        end
    end
    if player:FindFirstChild("muscleEvent") then
        player.muscleEvent:FireServer("punch", "leftHand")
        player.muscleEvent:FireServer("punch", "rightHand")
    end
end

local function doAutoFarm()
    task.spawn(function()
        while getgenv().autoFarm do
            task.wait(0.1)
            local char = player.Character
            if not char or not char:FindFirstChild("LeftHand") or not char:FindFirstChild("RightHand") then
                continue
            end

            local durability = player:FindFirstChild("Durability")
            if durability and durability.Value >= currentDurabilityReq then
                for _, v in pairs(workspace.machinesFolder:GetDescendants()) do
                    if v.Name == "neededDurability" and v.Value == currentDurabilityReq then
                        local rock = v.Parent:FindFirstChild("Rock")
                        if rock then
                            firetouchinterest(rock, char.RightHand, 0)
                            firetouchinterest(rock, char.RightHand, 1)
                            firetouchinterest(rock, char.LeftHand, 0)
                            firetouchinterest(rock, char.LeftHand, 1)
                            gettool()
                        end
                    end
                end
            end
        end
    end)
end

local function handleRespawn()
    player.CharacterAdded:Connect(function(newChar)
        if getgenv().autoFarm then
            task.wait(2) 
            doAutoFarm()
        end
    end)
end

local function startAutoFarm()
    if getgenv().autoFarm then return end
    getgenv().autoFarm = true
    handleRespawn()
    doAutoFarm()
end

local function stopAutoFarm()
    getgenv().autoFarm = false
end

local function setupRockSwitch(name, durability)
    farmPlusTab:AddSwitch(name, function(Value)
        if Value then
            activeRock = name
            currentDurabilityReq = durability
            startAutoFarm()
        else
            stopAutoFarm()
        end
    end)
end

setupRockSwitch("Muscle King Rock", 5000000)
setupRockSwitch("Legend Rock", 1000000)
setupRockSwitch("Eternal Rock", 750000) 

local rebirthTab = window:AddTab("Rebirth")

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

local rebirthTarget = 0
local rebirthingToTarget = false
local teleportActive = false
_G.FastWeight = false
_G.autoSizeActive = false

rebirthTab:AddTextBox("Rebirth Target", function(text)
	rebirthTarget = tonumber(text) or 0
end)

rebirthTab:AddSwitch("Auto Rebirth Target", function(bool)
	rebirthingToTarget = bool

	task.spawn(function()
		while rebirthingToTarget do
			local player = LocalPlayer
			local leaderstats = player:FindFirstChild("leaderstats")
			local rebirths = leaderstats and leaderstats:FindFirstChild("Rebirths")

			if rebirths and rebirths.Value >= rebirthTarget then
				rebirthingToTarget = false
				break
			end

			ReplicatedStorage.rEvents.rebirthRemote:InvokeServer("rebirthRequest")
			task.wait(0.1)
		end
	end)
end)

rebirthTab:AddSwitch("Auto Weight", function(bool)
	_G.FastWeight = bool

	if bool then
		task.spawn(function()
			while _G.FastWeight do
				local player = LocalPlayer
				local char = player.Character
				if char and not char:FindFirstChild("Weight") then
					local weightTool = player.Backpack:FindFirstChild("Weight")
					if weightTool then
						if weightTool:FindFirstChild("repTime") then
							weightTool.repTime.Value = 0
						end
						char.Humanoid:EquipTool(weightTool)
					end
				elseif char and char:FindFirstChild("Weight") then
					local equipped = char:FindFirstChild("Weight")
					if equipped:FindFirstChild("repTime") then
						equipped.repTime.Value = 0
					end
				end
				task.wait(0.1)
			end
		end)

		task.spawn(function()
			while _G.FastWeight do
				LocalPlayer.muscleEvent:FireServer("rep")
				task.wait(0)
			end
		end)
	else
		local char = LocalPlayer.Character
		local equipped = char and char:FindFirstChild("Weight")
		if equipped then
			if equipped:FindFirstChild("repTime") then
				equipped.repTime.Value = 1
			end
			equipped.Parent = LocalPlayer.Backpack
		end
		local backpackTool = LocalPlayer.Backpack:FindFirstChild("Weight")
		if backpackTool and backpackTool:FindFirstChild("repTime") then
			backpackTool.repTime.Value = 1
		end
	end
end)

rebirthTab:AddSwitch("Auto Size 1", function(bool)
	_G.autoSizeActive = bool
	if bool then
		task.spawn(function()
			while _G.autoSizeActive and task.wait() do
				ReplicatedStorage.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 0)
			end
		end)
	end
end, "Auto Set Size 1")

local targetPosition = CFrame.new(-8742, 121, -5858)
rebirthTab:AddSwitch("Auto Teleport King", function(enabled)
	teleportActive = enabled
end)

task.spawn(function()
	while true do
		if teleportActive then
			local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
			local hrp = char:WaitForChild("HumanoidRootPart")
			if (hrp.Position - targetPosition.Position).Magnitude > 5 then
				hrp.CFrame = targetPosition
			end
		end
		task.wait(0.05)
	end
end)

local frameToggle = rebirthTab:AddSwitch("Hide Frames", function(bool)
    local rSto = game:GetService("ReplicatedStorage")
    for _, obj in pairs(rSto:GetChildren()) do
        if obj.Name:match("Frame$") then
            obj.Visible = not bool
        end
    end
end)

LocalPlayer.CharacterAdded:Connect(function(char)
	char:WaitForChild("HumanoidRootPart")
	task.wait(2)
	warn("[RESPAWN] Character respawned â€” continuing automation...")

	if _G.FastWeight then
		task.spawn(function()
			while _G.FastWeight do
				local player = LocalPlayer
				local c = player.Character
				if c and not c:FindFirstChild("Weight") then
					local tool = player.Backpack:FindFirstChild("Weight")
					if tool then
						c.Humanoid:EquipTool(tool)
					end
				end
				LocalPlayer.muscleEvent:FireServer("rep")
				task.wait(0.1)
			end
		end)
	end

	if _G.autoSizeActive then
		task.spawn(function()
			while _G.autoSizeActive do
				ReplicatedStorage.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 0)
				task.wait(0.2)
			end
		end)
	end

	if teleportActive then
		task.spawn(function()
			local hrp = char:WaitForChild("HumanoidRootPart")
			while teleportActive do
				if (hrp.Position - targetPosition.Position).Magnitude > 5 then
					hrp.CFrame = targetPosition
				end
				task.wait(0.05)
			end
		end)
	end
end)

local miscTab = window:AddTab("Buy Ultimate")

local ultimateOptions = {
    "+1 Daily Spin",
    "+1 Pet Slot",
    "+10 Item Capacity",
    "+5% Rep Speed",
    "Demon Damage",
    "Galaxy Gains",
    "Golden Rebirth",
    "Jungle Swift",
    "Muscle Mind",
    "x2 Chest Rewards",
    "x2 Quest Rewards"
}

local autoUltimateToggles = {}

for _, ultimate in ipairs(ultimateOptions) do
    autoUltimateToggles[ultimate] = false
    
    miscTab:AddSwitch("Auto Buy " .. ultimate, function(state)
        autoUltimateToggles[ultimate] = state

        if state then
            task.spawn(function()
                while autoUltimateToggles[ultimate] do
                    pcall(function()
                        game:GetService("ReplicatedStorage").rEvents.ultimatesRemote:InvokeServer(
                            "upgradeUltimate",
                            ultimate
                        )
                    end)
                    task.wait(1)
                end
            end)
        end
    end)
end

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local teleportTab = window:AddTab("Teleport")

local function safeTeleport(cframe)
	local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
	local root = character:WaitForChild("HumanoidRootPart", 10)
	if root then
		root.CFrame = cframe
	end
end

teleportTab:AddButton("Spawn", function()
	safeTeleport(CFrame.new(2, 8, 115))
end)

teleportTab:AddButton("Secret Area", function()
	safeTeleport(CFrame.new(1947, 2, 6191))
end)

teleportTab:AddButton("Tiny Island", function()
	safeTeleport(CFrame.new(-34, 7, 1903))
end)

teleportTab:AddButton("Teleport Frozen", function()
	safeTeleport(CFrame.new(
		-2600.00244, 3.67686558, -403.884369,
		0.0873617008, 1.0482899e-09, 0.99617666,
		3.07204253e-08, 1, -3.7464023e-09,
		-0.99617666, 3.09302628e-08, 0.0873617008
	))
end)

teleportTab:AddButton("Mythical", function()
	safeTeleport(CFrame.new(2255, 7, 1071))
end)

teleportTab:AddButton("Inferno", function()
	safeTeleport(CFrame.new(-6768, 7, -1287))
end)

teleportTab:AddButton("Legend", function()
	safeTeleport(CFrame.new(4604, 991, -3887))
end)

teleportTab:AddButton("Muscle King Gym", function()
	safeTeleport(CFrame.new(-8646, 17, -5738))
end)

teleportTab:AddButton("Jungle", function()
	safeTeleport(CFrame.new(-8659, 6, 2384))
end)

teleportTab:AddButton("Brawl Lava", function()
	safeTeleport(CFrame.new(4471, 119, -8836))
end)

teleportTab:AddButton("Brawl Desert", function()
	safeTeleport(CFrame.new(960, 17, -7398))
end)

teleportTab:AddButton("Brawl Regular", function()
	safeTeleport(CFrame.new(-1849, 20, -6335))
end)

LocalPlayer.CharacterAdded:Connect(function()
	task.wait(1)
end)
